<!DOCTYPE html>
<html>
<head>
    <title>内容收集器</title>
    <meta charset="UTF-8">
     <link rel="stylesheet" href="layout.css">
    <script src="_lib/mobile-detect.min.js"></script>
</head>
<body>
<div id="app">
    <article id="new-note">
        <a  href="upload.html">新建</a>
    </article>
    <article id="note_template">
        <header>
            <span class="abstract">摘要</span>
            <div>
                <button type="button" onclick="copyContent(event)">复制</button>
            </div>
        </header>
        <main>
            <div class="content">内容</div>
        </main>
        <footer>
            <span class="create_time">创建时间</span>
        </footer>
    </article>
</div>
</body>
<style>

</style>
<script src="js/mobile_handler.js"></script>
<script>


    function copyContent(event){
        const text = event.target.parentElement.nextElementSibling.querySelector(".content").innerText
        navigator.clipboard.writeText(text)
          .then(() => {
            console.log('Text copied to clipboard');
          })
          .catch((error) => {
            console.error('Failed to copy text:', error);
          });
    }
    const note_template = document.getElementById('note_template');
    const note_obj = {
        abstract: "摘要",
        type: "类型",
        content: "内容",
        create_time: "创建时间"
    }
    const create_note = function(note_obj){
        const note = note_template.cloneNode(true)
        note.querySelector(".abstract").innerText=note_obj.abstract;
        if(note_obj.type==="text"){
            note.querySelector(".content").innerText=note_obj.content;
        }else if(note_obj.type==="img"){
            note.querySelector(".content").innerText=note_obj.content;
        }
        note.querySelector(".create_time").innerText=note_obj.create_time;
        return note;
    }
    app.appendChild(create_note(note_obj))

</script>
</html>